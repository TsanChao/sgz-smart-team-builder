<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>三国志战略版智能配将工具</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <h1>三国志战略版智能配将工具</h1>
        <nav>
            <button id="recommend-tab" class="nav-tab active">智能配将</button>
            <button id="data-tab" class="nav-tab">数据管理</button>
            <button id="about-tab" class="nav-tab">关于</button>
        </nav>
    </header>
    
    <main>
        <!-- 智能配将模块 -->
        <section id="recommendation-module" class="module active">
            <div class="settings-panel">
                <h2>阵容推荐设置</h2>
                <div class="setting-row">
                    <label for="required-hero">必须包含武将:</label>
                    <select id="required-hero">
                        <option value="">请选择</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label for="excluded-hero">排除武将:</label>
                    <select id="excluded-hero">
                        <option value="">请选择</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label for="recommend-level">推荐等级:</label>
                    <select id="recommend-level">
                        <option value="50">50级</option>
                        <option value="40">40级</option>
                        <option value="30">30级</option>
                        <option value="20">20级</option>
                        <option value="1">1级</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label for="recommend-count">推荐数量:</label>
                    <input type="number" id="recommend-count" min="1" max="20" value="10">
                </div>
                <div class="setting-row">
                    <label for="troop-count">兵力数量:</label>
                    <input type="number" id="troop-count" min="1000" max="20000" step="1000" value="10000">
                </div>
                <div class="setting-row">
                    <label>
                        <input type="checkbox" id="damage-verification" checked> 启用伤害验证
                    </label>
                </div>
                <div class="setting-row">
                    <button id="start-recommendation">开始推荐</button>
                    <button id="reset-settings">重置条件</button>
                </div>
            </div>
            
            <div class="recommendation-results">
                <h2>推荐阵容</h2>
                <div id="recommendation-list">
                    <!-- 推荐结果将在这里显示 -->
                </div>
            </div>
        </section>
        
        <!-- 数据管理模块 -->
        <section id="data-management-module" class="module">
            <h2>数据管理</h2>
            <div class="data-tabs">
                <button class="data-tab active" data-tab="hero" onclick="switchDataTab('hero')">武将</button>
                <button class="data-tab" data-tab="skill" onclick="switchDataTab('skill')">战法</button>
            </div>
            <div class="data-actions">
                <button id="add-hero">新增</button>
                <button id="import-data">导入数据</button>
                <button id="export-data">导出数据</button>
                <button id="refresh-data">刷新</button>
            </div>
            <div class="search-box">
                <input type="text" id="data-search" placeholder="搜索...">
                <button id="search-data-button">搜索</button>
            </div>
            <div class="filter-box" id="hero-filter-box">
                <select id="hero-camp-filter" onchange="filterHeroData()">
                    <option value="">全部阵营</option>
                    <option value="魏">魏</option>
                    <option value="蜀">蜀</option>
                    <option value="吴">吴</option>
                    <option value="群">群</option>
                </select>
            </div>
            <div class="filter-box" id="skill-filter-box" style="display: none;">
                <select id="skill-type-filter" onchange="filterSkillData()">
                    <option value="">全部类型</option>
                    <option value="主动">主动</option>
                    <option value="被动">被动</option>
                    <option value="指挥">指挥</option>
                    <option value="突击">突击</option>
                    <option value="内政">内政</option>
                </select>
            </div>
            <div id="hero-data-table">
                <!-- 武将数据表格将在这里显示 -->
            </div>
            <div id="skill-data-table" style="display: none;">
                <!-- 战法数据表格将在这里显示 -->
            </div>
        </section>
        
        <!-- 关于模块 -->
        <section id="about-module" class="module">
            <h2>关于</h2>
            <div class="about-content">
                <p>三国志战略版智能配将工具 v1.0</p>
                <p>本工具专注于战法协同分析，提供智能化的队伍搭配建议。</p>
                <p>核心功能：</p>
                <ul>
                    <li>战法协同分析</li>
                    <li>智能配将推荐</li>
                    <li>队伍协同评分</li>
                    <li>详细分析报告</li>
                </ul>
            </div>
        </section>
        
        <!-- 战法编辑模态框 -->
        <div id="skill-edit-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>编辑战法</h2>
                <form id="skill-edit-form">
                    <input type="hidden" id="skill-original-name">
                    <div class="setting-row">
                        <label for="skill-name">战法名称:</label>
                        <input type="text" id="skill-name" required>
                    </div>
                    <div class="setting-row">
                        <label for="skill-type">类型:</label>
                        <select id="skill-type" required>
                            <option value="主动">主动</option>
                            <option value="被动">被动</option>
                            <option value="指挥">指挥</option>
                            <option value="突击">突击</option>
                            <option value="内政">内政</option>
                        </select>
                    </div>
                    <div class="setting-row">
                        <label for="skill-quality">品质:</label>
                        <select id="skill-quality" required>
                            <option value="S">S</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                        </select>
                    </div>
                    <div class="setting-row">
                        <label for="skill-probability">发动概率:</label>
                        <input type="text" id="skill-probability">
                    </div>
                    <div class="setting-row">
                        <label for="skill-description">描述:</label>
                        <textarea id="skill-description" rows="3"></textarea>
                    </div>
                    <div class="setting-row">
                        <button type="submit">保存</button>
                        <button type="button" id="cancel-skill-edit">取消</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- 协同分析弹窗 -->
        <div id="synergy-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="synergy-details">
                    <!-- 协同分析详情将在这里显示 -->
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <p>&copy; 2025 三国志战略版智能配将工具</p>
    </footer>
    
    <script src="/static/js/main.js"></script>
</body>
</html>